@model EstudianteJj
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
<h4>Crear Proveedor</h4>

<hr />
<div class="row">
    <div class="col-md-4">
        <a>@ViewBag.RUCEx</a>

        <form asp-action="Guardar">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <div class="form-group">
                <label asp-for="Cedula" class="control-label"></label>
                <input asp-for="Cedula" class="form-control" />
                <span asp-validation-for="Cedula" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Nombre" class="control-label"></label>
                <input asp-for="Nombre" class="form-control" />
                <span asp-validation-for="Nombre" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Email" class="control-label"></label>
                <input asp-for="Email" class="form-control" />
                <span asp-validation-for="Email" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Telefono" class="control-label"></label>
                <input asp-for="Telefono" class="form-control" />
                <span asp-validation-for="Telefono" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label class="control-label">Facultad</label>
                <select id="Facu" name="Facu" class="form-control" asp-items="ViewBag.Facultad"></select>
            </div>
            <div class="form-group">
                <label asp-for="Estado" class="control-label"></label>
                <select id="Carr" name="Carr" asp-for="Estado" class="form-control"></select>
            </div>
            <div class="form-group">
                <label asp-for="Direccion" class="control-label"></label>
                <input asp-for="Direccion" class="form-control" />
                <span asp-validation-for="Direccion" class="text-danger"></span>
            </div>
            <div class="form-group">
                <h2></h2>
                <input type="submit" value="Crear" class="btn btn-success" /> |
                <a asp-action="EstudianteJJ" class="btn btn-primary">Regresar</a>
            </div>
        </form>
    </div>
</div>



<script>
    var combo=document.getElementById("Facu");
    combo.addEventListener("change",Refresh);
    Refresh();
    function Refresh(){
        fetch("@Url.Content("~/EstudianteJJ/Carrera")" + "?id=" + combo.value)
        .then(function (result){
            if(result.ok){
                return result.json();
            }
        }).then(function (data){
            cbo = document.getElementById("Carr")
            cbo.innerHTML=""
            data.forEach(function (element){

                let opt = document.createElement("option")
                opt.appendChild(document.createTextNode(element.text))
                opt.value = element.value

                cbo.appendChild(opt)
            })
        })
    }
</script>
